<html>
<head>
	<title>Data View</title>
	
	<script type="text/javascript" src="../../tests/dojoVersion.js"></script>

	<script type="text/javascript">
		dojoCSSImport("../../../../@dojopath@/dojo/resources/dojo.css", "idxStyles");
		dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit.css", "idxStyles");
		dojoCSSImport("../../../../@dojopath@/dijit/themes/dijit_rtl.css", "idxStyles");
	</script>
	
	<style id="idxStyles" type="text/css">
        @import "../../themes/oneui/oneui.css";
		@import "../../tests/_pagefooter/_PageFooter.css";
        @import "../../themes/test.css";
    </style>

	<script type="text/javascript">
		var dojoConfig = currentDojoVersion.dojoConfig;
	</script>

	<script type="text/javascript">
		dojoScriptImport("../../../../@dojopath@/dojo/dojo.js", "postDojo");
	</script>
	
	<script type="text/javascript" id="postDojo">
		var modules = [
			"dojo.parser",
			"dojo._base.connect",
			"dojo.dom",
			"dojo.store.DataStore",
			"dijit._base.manager", 
			"dijit.form.TextBox",
			"dijit.form.Button",
			"dijit.form.ComboBox",
			"dijit.form.NumberSpinner",
			"dijit.Dialog",
			"idx.widget.DataViewList",
			"idx.tests._pagefooter._PageFooter"
		]; 
		var parser, connect, dom, DataStore, manager, 
			TextBox, Button, ComboBox, NumberSpinner, Dialog,
			DataViewList, _PageFooter;
		
		function preParse(modules){
			parser 				= modules["dojo/parser"];
			connect				= modules["dojo/_base/connect"];
			dom					= modules["dojo/dom"];
			DataStore 			= modules["dojo/store/DataStore"];
			manager  			= modules["dijit/_base/manager"];
			TextBox   			= modules["dijit/form/TextBox"];
			Button 				= modules["dijit/form/Button"];
			ComboBox   			= modules["dijit/form/ComboBox"];
			NumberSpinner   	= modules["dijit/form/NumberSpinner"];
			Dialog   			= modules["dijit/Dialog"];
			DataViewList   		= modules["idx/widget/DataViewList"];
			_PageFooter   		= modules["idx/tests/_pagefooter/_PageFooter"];
		}
		function postParse() {
			var dataViewWidget = new DataViewList({
				url: "_data/dataview.json",
				style: "width:850px",
				title: "Choose an application platform",
				animation: true,
				itemAnimation: "flip",
				filterProps: ["name", "title"],
				sortProps: ["name", "title"],
				switchModeBatch: true
			}, "dataView");
			dataViewWidget.fetch({ count: 20 });
			
			var dataViewInfrasWidget = new DataViewList({
				url: "_data/dataviewInfras.json",
				style: "width:600px",
				title: "Choose an infrastructure",
				contentHeight: 450,
				showDetails: true,
				filterProps: null,
				sortProps: null
			}, "dataViewInfras");
			dataViewInfrasWidget.fetch();
			
			var dataViewDialogWidget = new DataViewList({
				url: "_data/dataviewDialog.json",
				style: "width:750px",
				title: "Choose an item",
				contentHeight: 280,
				itemAnimation: "flip",
				filterProps: null,
				sortProps: null
			}, "dataViewDialogWidget");
			dataViewDialogWidget.fetch();
			var detailDlg = new Dialog({
				title: "Detail Data View"
			}, "detailDialog");
			detailDlg.startup();
			
			new _PageFooter();
		}
		dojoRequireModules(modules, null, currentDojoVersion.async, preParse, postParse);
	</script>
	<script type="text/javascript" src="../../tests/commonTest.js"></script>
</head>

<body class="oneui" style="width: 100%; height: 100%; margin: 0; padding: 0;">
	<a class="navigationLink" href="#maincontent">Skip to main content</a>
	<script type="text/javascript">applyThemeToBody("oneui");</script>
	<a name="maincontent"></a>
	<div class="testMain">	
		<h1> Set up your Cloud Application </h1>
		
		<h5> Step 1: </h5>
		<hr>
		<div id="dataView"></div>
		
		<h5> Step 2: </h5>
		<hr>
		<div id="dataViewInfras"></div>
		
		<h5> Detail Config </h5>
		<hr>
		<div data-dojo-type="dijit/form/Button" 
			data-dojo-props='onClick:function(){ dijit.byId("detailDialog").show() }'>Show Detail Data View</div>
		
		<div id="detailDialog" style="display:none">
			<div class="dijitDialogPaneContentArea">
				<div id="dataViewDialogWidget"></div>
			</div>
			<div class="dijitDialogPaneActionBar">
				<div data-dojo-type="dijit/form/Button" data-dojo-props='type:"submit" '>OK</div>
				<div data-dojo-type="dijit/form/Button" data-dojo-props='onClick:function(){ dijit.byId("detailDialog").onCancel(); }'>Cancel</div>
			</div>
		</div>
		
		<hr>
		<p></p>
		<p></p>
		<p></p>
	</div>
</body>
</html>
